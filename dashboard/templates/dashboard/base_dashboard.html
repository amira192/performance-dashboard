{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>{% block title %}Dashboard | Performance Management{% endblock %}</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="flex flex-col min-h-screen bg-gray-100">

{% if user.is_authenticated %}
<div class="flex flex-1">

    <!-- Sidebar -->
    {% include 'sidebar.html' %}

    <!-- Main content -->
    <div class="flex-1 flex flex-col">
        {% include 'topbar.html' %}
        <main class="p-6 flex-1">
            {% block dashboard_content %}{% endblock %}
        </main>
    </div>

</div>
{% else %}
<main class="flex-1 flex justify-center items-center p-6 w-full max-w-md">
    {% block guest_content %}{% endblock %}
</main>
{% endif %}

<!-- Footer -->
<footer class="bg-gray-800 text-white text-center py-3 mt-auto">
    <div class="max-w-3xl mx-auto text-sm">
        <strong>Copyright &copy; {% now "Y" %}, <a href="https://vijaythapa.com.np" class="underline">Amira Khattab</a>.</strong>
        All rights reserved.
        <div class="float-right d-none d-sm-inline-block">
            <b>Version</b> 1.0
        </div>
    </div>
</footer>

<script>
document.getElementById('sidebarToggle')?.addEventListener('click', function(){
    const sb = document.getElementById('sidebar');
    sb.classList.toggle('hidden');
});
</script>
</body>
</html>
