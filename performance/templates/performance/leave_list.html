{% extends 'base.html' %}
{% block title %}Leaves{% endblock %}
{% block content %}
<h2 class="text-2xl font-bold mb-4">Leaves / Absences</h2>

<a href="{% url 'add_leave' %}" class="bg-blue-600 text-white py-2 px-4 rounded mb-4 inline-block">Request Leave</a>

<table class="table-auto w-full border border-gray-300">
    <thead>
        <tr>
            <th class="border px-2 py-1">Student</th>
            <th class="border px-2 py-1">Type</th>
            <th class="border px-2 py-1">Start</th>
            <th class="border px-2 py-1">End</th>
            <th class="border px-2 py-1">Status</th>
        </tr>
    </thead>
    <tbody>
        {% for leave in leaves %}
        <tr>
            <td class="border px-2 py-1">{{ leave.student.username }}</td>
            <td class="border px-2 py-1">{{ leave.leave_type }}</td>
            <td class="border px-2 py-1">{{ leave.start_date }}</td>
            <td class="border px-2 py-1">{{ leave.end_date }}</td>
            <td class="border px-2 py-1">{{ leave.status }}</td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="5" class="border px-2 py-1 text-center">No leaves found.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
